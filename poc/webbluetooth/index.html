<!DOCTYPE html>
<html lang="en">
 <head>
   <title>BLE Authentication</title>
   <style>

        .links line {
          stroke: #999;
          stroke-opacity: 0.6;
        }
        
        .nodes circle {
          stroke: #fff;
          stroke-width: 1.5px;
        }
        
        text {
          font-family: sans-serif;
          font-size: 10px;
        }

        #myDIV {
        width: 600px;
        height: 600px;
        background-color: white;
        color: white;
}
        
        </style>
 </head>
 <body>
    <script src="engine.js"></script>

    <p> Login with BLE secure device </p>
        
    <form>
        <button id="buttonSelectSecureDevice">Select secure device</button>
    </form>

    <div id="myDIV">
        
    </div>
    
    <script>
        
        function isWebBluetoothEnabled() {
            console.log('isWebBluetoothEnabled enabled!??')
            if (navigator.bluetooth) {
                console.log('isWebBluetoothEnabled enabled!')
            return true;
            } else {
            console.log('Web Bluetooth API is not available.\n' +
                'Please make sure the "Experimental Web Platform features" flag is enabled.');
            return false;
            }
        }
        </script>

    <script>
        document.querySelector('#buttonSelectSecureDevice').addEventListener('click', function(event) {
            console.log("Get secure device public key")
            event.stopPropagation();
            event.preventDefault();
            if (isWebBluetoothEnabled()) {
                initLoginProcess();
            }
        });
        // document.querySelector('#buttonSetBattery').addEventListener('click', function(event) {
        //     console.log("set battery")
        //     event.stopPropagation();
        //     event.preventDefault();
        //     if (isWebBluetoothEnabled()) {
        //         setBattery();
        //     }
        // });
    </script>
 </body>
</html>